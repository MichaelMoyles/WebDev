<!DOCTYPE html>
<html>
    <body>

        <div id="id01"></div>
        
        <script>
            var xmlhttp = new XMLHttpRequest();
            var url = "senators.json";

            xmlhttp.onreadystatechange = function() {
                if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
        
                //Parse the JSON data to a JavaScript variable. 
                var parsedObj = JSON.parse(xmlhttp.responseText);    
                // This function is defined below and deals with the JSON data parsed from the file. 
                totalSenators(parsedObj);
                }
            };

            xmlhttp.open("GET", url, true);
            xmlhttp.send();
            
            function totalSenators(obj) {
                var senators = obj.objects;
    
                // This code iterates through the senators arry and writes html code to put the senator's information in a table.
                var senatorInfo = "<table border = 1 >";
                senatorInfo += "<tr><th>Senator Name</th></tr>";    
                for (var i=0; i <senators.length; i++) 
                {    
                    var senatorName = senators[i].person.name;               
                    senatorInfo += "<tr><td>" + senatorName + "</td>";
                }
                 // Close the table element.
                senatorInfo += "</table>"; 

                // Add the new html code to the div element with id = 'id01'.
                document.getElementById("id01").innerHTML = senatorInfo
            }
            
        </script>
    
    </body>
</html>
